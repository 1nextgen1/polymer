<template>
  <span id="content">{{content}}</span>
</template>
<script>
  Polymer({

    is: 'x-configure',
    
    published: {
      content: {
        type: String,
        notify: true
      }
    },
    
    bind: {
      content: 'contentChanged'
    },

    changeHandlerCount: 0,

    configure: function() {
      // this === null
      return {
        content: 'content'
      };
    },
    
    contentChanged: function() {
      this.changeHandlerReadyState = this._readied;
      this.changeHandlerCount++;
    }
  });
</script>

<template>
  <span id="content">{{content}}</span>
</template>
<script>
  Polymer({

    is: 'x-configure-sdv',
    
    published: {
      content: {
        type: String,
        notify: true
      }
    },
    
    bind: {
      content: 'contentChanged'
    },

    changeHandlerCount: 0,

    configure: function() {
      return {
        content: 'sdv'
      };
    },
    
    contentChanged: function() {
      this.changeHandlerReadyState = this._readied;
      this.changeHandlerCount++;
    }
  });
</script>

<template>
  <span id="content">{{content}}</span>
</template>
<script>
  Polymer({

    is: 'x-configure-set',
    
    bind: {
      content: 'contentChanged'
    },

    changeHandlerCount: 0,

    // configure: function() {
    //   this.content = 'content';
    // },
    
    contentChanged: function() {
      this.changeHandlerReadyState = this._readied;
      this.changeHandlerCount++;
    },

    ready: function() {
      this.content = 'content';
    }

  });
</script>

<template>
  <span id="content">{{content}}</span>
</template>
<script>
  Polymer({

    is: 'x-configure-child',
    
    bind: {
      content: 'contentChanged'
    },

    changeHandlerCount: 0,
    
    configure: function() {
      return {
        content: 'child'
      };
    },
    
    contentChanged: function() {
      this.changeHandlerReadyState = this._readied;
      this.changeHandlerCount++;
    }
  });
</script>

<template>
  <x-configure-child id="child" content="{{content}}"></x-configure-child>
</template>
<script>
  Polymer({

    is: 'x-configure-host',
    
    bind: {
      content: 'contentChanged'
    },

    changeHandlerCount: 0,
    
    configure: function() {
      return {
        content: 'host'
      };
    },

    contentChanged: function() {
      this.changeHandlerReadyState = this._readied;
      this.changeHandlerCount++;
    }
  });
</script>

<template>
  <span id="content">{{content}}</span>
</template>
<script>
  Polymer({

    is: 'x-configure-ensure',
    
    published: {
      content: {
        type: String,
        notify: true,
        defaultChange: true
      }
    },
    
    bind: {
      content: 'contentChanged'
    },

    changeHandlerCount: 0,

    configure: function() {
      return {
        content: 'ensured'
      };
    },

    contentChanged: function() {
      this.changeHandlerReadyState = this._readied;
      this.changeHandlerCount++;
    },

    ready: function() {
      // if (this.content === 'ensured') {
      //   this.contentChanged();
      // }
      //this.ensureChangeHandler('content');
    }
  });
</script>